# 策略模式

策略模式的定义是：定义一系列的算法，把它们一个个封装起来，并且使它们可以相互替换。

策略模式的优缺点：

优点：
策略之间相互独立，但策略可以自由切换 ，这个策略模式的特点给策略模式带来很多灵活性，也提高了策略的复用率；
如果不采用策略模式，那么在选策略时一般会采用多重的条件判断，采用策略模式可以 避免多重条件判断，增加可维护性；
可扩展性好，策略可以很方便的进行扩展；
缺点：
策略相互独立，因此一些复杂的算法逻辑 无法共享，造成一些资源浪费；
如果用户想采用什么策略，必须了解策略的实现，因此，所有策略都需向外暴露，这是违背迪米特法则/最少知识原则的，也增加了用户对策略对象的使用成本；
策略模式的适用场景：

多个算法 只在行为上稍有不同的场景，这时可以使用策略模式来动态选择算法；
算法需要自由切换的场景；
有时 需要多重条件判断，那么可以使用策略模式来规避多重条件判断的情况；
策略模式和模板方法模式的区别：

策略模式 让我们在程序运行的时候动态地指定要使用的算法；
模板方法模式 是在子类定义的时候就已经确定了使用的算法；

```
var strategies = {
  S: function (salary) {
    return salary * 4
  },
  A: function (salary) {
    return salary * 3
  },
  B: function (salary) {
    return salary * 2
  }
}
var calculateBonus = function (level, salary) {
  return strategies[level](salary)
}
console.log(calculateBonus('S', 20000)) // 输出：80000
console.log(calculateBonus('A', 10000)) // 输出：30000

```
